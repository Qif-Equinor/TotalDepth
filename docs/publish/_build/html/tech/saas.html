
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>TotalDepth and SaaS &#8212; TotalDepth 0.2.2rc0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="TotalDepth and Software Test" href="../testing/index_test.html" />
    <link rel="prev" title="Plotting Wireline Data" href="plotting.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../testing/index_test.html" title="TotalDepth and Software Test"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting Wireline Data"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TotalDepth</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index_tech.html" accesskey="U">TotalDepth Technical Notes</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="totaldepth-and-saas">
<h1>TotalDepth and SaaS<a class="headerlink" href="#totaldepth-and-saas" title="Permalink to this headline">¶</a></h1>
<p>This design shows the potential for running TotalDepth as <em>Software as a Service</em> (SaaS) or, if you prefer, <em>Cloud Computing</em>.</p>
<p>The design envisages a server running the full TotalDepth software and any number of clients running sub-sets of that software. Client software could be in-browser or on-device.</p>
<p>Network speed (i.e. latency+bandwidth) is crucial to the performance of this system and the network connection between the client and the server could be any of these (in order of slowness):</p>
<ul class="simple">
<li>A client and a server both running on the client’s machine.</li>
<li>A client device and a server running on a high speed LAN.</li>
<li>A client device communicating with a server via a VPN.</li>
<li>A client device communicating with a remote server via the internet.</li>
</ul>
<p>TotalDepth accommodates all of these.</p>
<div class="section" id="processing-server-side-files">
<h2>Processing Server Side Files<a class="headerlink" href="#processing-server-side-files" title="Permalink to this headline">¶</a></h2>
<p>There is no particular challenge here as the server has all it needs to process any client instruction. The big disadvantage is that the client has to upload the file to the server before they can do anything. For small jobs on large files that can impose an disproportionate cost.</p>
</div>
<div class="section" id="processing-files-that-remain-on-the-client-s-device">
<h2>Processing Files that Remain on the Client’s Device<a class="headerlink" href="#processing-files-that-remain-on-the-client-s-device" title="Permalink to this headline">¶</a></h2>
<p>The real challenge is: the client has a (very large?) file and wants to do something small (or at least incremental) with it, for example “Plot curves XYZ from 5840 to 5600 feet using format ABC” and the server only needs a tiny fraction of that file. Regardless of the network connection there should be some cunning in extracting the data that the client needs in minimal time. TotalDepth’s indexing technique makes this possible.</p>
<p>This design shows how the client can work with the server without the tedious business of the client having to upload the complete file to the server. Instead the client and server cooperate to make sure that the minimum data is transferred for the immediate task in hand.</p>
<p>The design is illustrated below, the client is on the left:</p>
<img alt="../_images/Slide12.png" src="../_images/Slide12.png" />
<div class="section" id="starting-the-session">
<h3>Starting the session<a class="headerlink" href="#starting-the-session" title="Permalink to this headline">¶</a></h3>
<p>The session is initialised by the user requesting the client to operate on a particular file on the clients device. The client passes basic file information to the server and receives a unique session ID.</p>
<div class="section" id="the-session-id">
<h4>The Session ID<a class="headerlink" href="#the-session-id" title="Permalink to this headline">¶</a></h4>
<p>The session ID could be a portable file ID, such as a checksum. Thus two users using the same file could benefit from each others read transactions. This would require copy-on-write and session ID modification.</p>
<p>Another optimisation when using a checksum is that if the server already has an exact copy of the file (using the checksum as a proxy for that) then the server could provide data from its own copy of the file without the user having to transfer any data to the server at all.</p>
</div>
<div class="section" id="session-bootstrapping">
<h4>Session Bootstrapping<a class="headerlink" href="#session-bootstrapping" title="Permalink to this headline">¶</a></h4>
<p>Given a valid session ID the client code reads the minimum structural information for the server to comprehend (and mirror) the file structure. This will vary according to the file format (and will vary according to file size).</p>
<div class="section" id="lis">
<h5>LIS<a class="headerlink" href="#lis" title="Permalink to this headline">¶</a></h5>
<p>The client code must be capable of processing TIF markers, Physical Record headers and trailers and Logical Record headers. The client passes this data as an ordered list of pairs <code class="docutils literal notranslate"><span class="pre">[(tell,</span> <span class="pre">bytes),</span> <span class="pre">...]</span></code> where tell is the <code class="docutils literal notranslate"><span class="pre">size_t</span></code> position in the of the Physical Record (or TIF marker) that starts the Logical Record and <code class="docutils literal notranslate"><span class="pre">bytes</span></code> is the raw two bytes of the Logical Record Header.</p>
</div>
<div class="section" id="las">
<h5>LAS<a class="headerlink" href="#las" title="Permalink to this headline">¶</a></h5>
<p>As LAS files are small and do not lend themselves easily to efficient indexing then, most likely, it is worth passing the
entire client file to the server.</p>
</div>
<div class="section" id="rp66">
<h5>RP66<a class="headerlink" href="#rp66" title="Permalink to this headline">¶</a></h5>
<p>This will be similar to LIS bootstrapping with the client code processing Visible Record Headers and Logical Record segments.</p>
</div>
</div>
<div class="section" id="index-completion">
<h4>Index Completion<a class="headerlink" href="#index-completion" title="Permalink to this headline">¶</a></h4>
<p>The bootstrap information passed to the server allows the server to construct a virtual, partial, logical image of the file. The server may request further information in the form of an ordered list of pairs <code class="docutils literal notranslate"><span class="pre">[(file</span> <span class="pre">position,</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">bytes),</span> <span class="pre">...]</span></code>. The client does a series of seek/read operations and passes the data back to the server as a list of pairs <code class="docutils literal notranslate"><span class="pre">[(file</span> <span class="pre">position,</span> <span class="pre">bytes),</span> <span class="pre">...]</span></code>. This allows the server to complete the file index.</p>
<p>The total size of the data transferred to the server at this stage is typically 0.6% of the file size. See <a class="reference internal" href="LIS_indexing.html#totaldepth-tech-indexing"><span class="std std-ref">Indexing LIS Files</span></a> for a description of how LIS files are indexed and <a class="reference internal" href="LIS_indexing.html#totaldepth-tech-indexing-indexsize"><span class="std std-ref">Multi-Processing</span></a> for a study of index sizes.</p>
</div>
</div>
<div class="section" id="rest-of-session">
<h3>Rest of Session<a class="headerlink" href="#rest-of-session" title="Permalink to this headline">¶</a></h3>
<p>Once bootstrapped any user request is passed by the client to the server, for example: “Plot curves ABC from 5840 to 5600 feet”.</p>
<p>The server then consults its virtual file image to see if it has the data to satisfy the request. If so then the result of the request is sent to the client.</p>
<p>If the server does not have sufficient data in its virtual file image then the server will send to the client an (ordered) list of pairs <code class="docutils literal notranslate"><span class="pre">[(file</span> <span class="pre">position,</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">bytes),</span> <span class="pre">...]</span></code>. The client does a series of seek/read operations on each pair and and passes the data back to the server as a list of pairs <code class="docutils literal notranslate"><span class="pre">[(file</span> <span class="pre">position,</span> <span class="pre">bytes),</span> <span class="pre">...]</span></code>. The server adds these to its virtual file image. The server then can complete the request.</p>
<p>Over time the virtual file image would grow but only as fast as the user’s (new) demands.</p>
</div>
<div class="section" id="data-persistence">
<h3>Data Persistence<a class="headerlink" href="#data-persistence" title="Permalink to this headline">¶</a></h3>
<p>It is possible for the server to persist the virtual file image over any number of sessions, this would improve the performance even further.</p>
</div>
</div>
<div class="section" id="saas-pros-and-cons">
<h2>SaaS Pros and Cons<a class="headerlink" href="#saas-pros-and-cons" title="Permalink to this headline">¶</a></h2>
<div class="section" id="advantages">
<h3>Advantages<a class="headerlink" href="#advantages" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Low barrier to use: browser based, no installation.</li>
<li>Cross Platform: desktop, tablet, mobile etc.</li>
<li>Minimum client code.</li>
<li>Continuous software version update from the server.</li>
<li>Integrated with other Internet services for example mapping data.</li>
<li>Tailored appearance per client.</li>
<li>Cloud availability behind the server.</li>
<li>All usage data is available on server logs.</li>
</ul>
</div>
<div class="section" id="disadvantages">
<h3>Disadvantages<a class="headerlink" href="#disadvantages" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Requires network connection (could have a server version running locally).</li>
<li>User agent variability.</li>
<li>Speed/performance limited by network.</li>
<li>Server infrastructure and investment.</li>
<li>Continuous maintenance and support.</li>
<li>Security.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">TotalDepth and SaaS</a><ul>
<li><a class="reference internal" href="#processing-server-side-files">Processing Server Side Files</a></li>
<li><a class="reference internal" href="#processing-files-that-remain-on-the-client-s-device">Processing Files that Remain on the Client’s Device</a><ul>
<li><a class="reference internal" href="#starting-the-session">Starting the session</a><ul>
<li><a class="reference internal" href="#the-session-id">The Session ID</a></li>
<li><a class="reference internal" href="#session-bootstrapping">Session Bootstrapping</a><ul>
<li><a class="reference internal" href="#lis">LIS</a></li>
<li><a class="reference internal" href="#las">LAS</a></li>
<li><a class="reference internal" href="#rp66">RP66</a></li>
</ul>
</li>
<li><a class="reference internal" href="#index-completion">Index Completion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rest-of-session">Rest of Session</a></li>
<li><a class="reference internal" href="#data-persistence">Data Persistence</a></li>
</ul>
</li>
<li><a class="reference internal" href="#saas-pros-and-cons">SaaS Pros and Cons</a><ul>
<li><a class="reference internal" href="#advantages">Advantages</a></li>
<li><a class="reference internal" href="#disadvantages">Disadvantages</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="plotting.html"
                        title="previous chapter">Plotting Wireline Data</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../testing/index_test.html"
                        title="next chapter">TotalDepth and Software Test</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tech/saas.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../testing/index_test.html" title="TotalDepth and Software Test"
             >next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="Plotting Wireline Data"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">TotalDepth</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index_tech.html" >TotalDepth Technical Notes</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010-2017, Paul Ross.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>